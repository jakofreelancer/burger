(this.webpackJsonpburger=this.webpackJsonpburger||[]).push([[0],[,,,,,,,,,,,function(e,t,r){e.exports={BreadTop:"style_BreadTop__TcOXJ",Salad:"style_Salad__VSCOc",BreadBottom:"style_BreadBottom__1iYK_",Meat:"style_Meat__2jxbw",Cheese:"style_Cheese__cmZtw",Bacon:"style_Bacon__f-a69",Seed:"style_Seed__SdcFJ",Second:"style_Second__1RODj",Third:"style_Third__XlhpD",Fourth:"style_Fourth__2Rj9K"}},,,,,,,,,function(e,t,r){e.exports={SideBar:"style_SideBar__3Nkwx",Open:"style_Open__2J9b1",Close:"style_Close__2irum",Logo:"style_Logo__2z20w"}},,,function(e,t,r){e.exports={BuildControl:"style_BuildControl__1uKKc",Label:"style_Label__3QaEe",Less:"style_Less__34U4O",More:"style_More__2nRBX"}},,,,,,function(e,t,r){e.exports={Toolbar:"style_Toolbar__1JJyF",HideOnMobile:"style_HideOnMobile__3KdT1"}},function(e,t,r){e.exports={MenuItem:"style_MenuItem__1Bljp",active:"style_active__25Uup"}},,,function(e,t,r){e.exports={BuildControls:"style_BuildControls__3d512",OrderButton:"style_OrderButton__2K8Mo",enable:"style_enable__2AGmh"}},function(e,t,r){e.exports={Button:"style_Button__3hpTD",Success:"style_Success__3XgDN",Danger:"style_Danger__M5VpH"}},,,,,,,,,,,function(e,t,r){e.exports={Content:"style_Content__3dwaN"}},function(e,t,r){e.exports={Logo:"style_Logo__16RyK"}},function(e,t,r){e.exports={Menu:"style_Menu__23fjF"}},function(e,t,r){e.exports={HamburgerMenu:"style_HamburgerMenu__1f-pz"}},function(e,t,r){e.exports={Burger:"style_Burger__23keg"}},function(e,t,r){e.exports={Shadow:"style_Shadow__3SK8z"}},function(e,t,r){e.exports={Modal:"style_Modal__33uBE"}},function(e,t,r){e.exports={Loader:"style_Loader__x2xaZ",load2:"style_load2__2edvP"}},function(e,t,r){e.exports={Order:"style_Order__1k_tw"}},function(e,t,r){e.exports={Login:"style_Login__3UcD0"}},function(e,t,r){e.exports={Signup:"style_Signup__P-u56"}},function(e,t,r){e.exports={ShippingPage:"style_ShippingPage__RN1sd"}},function(e,t,r){e.exports={ContactData:"style_ContactData__3eI6D"}},,,,,,function(e,t,r){},,,,,,,function(e,t,r){},,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),o=r(24),s=r.n(o),a=(r(63),r(6)),i=r(7),u=r(9),d=r(8),l=r(5),j=r(4),p=r(45),b=r.n(p),g=r(29),O=r.n(g),h=r(46),f=r.n(h),S=r.p+"static/media/burger-logo.ec69c7f6.png",_=r(0),x=function(){return Object(_.jsx)("div",{className:f.a.Logo,children:Object(_.jsx)("img",{src:S})})},m=r(47),v=r.n(m),y=r(30),R=r.n(y),I=r(15),C=function(e){return Object(_.jsx)("li",{className:R.a.MenuItem,children:Object(_.jsx)(I.b,{exact:e.exact,activeClassName:R.a.active,to:e.link,children:e.children})})},w=Object(j.b)((function(e){return{userId:e.signupLoginReducer.userId}}))((function(e){return Object(_.jsx)("div",{children:Object(_.jsx)("ul",{className:v.a.Menu,children:e.userId?Object(_.jsxs)(n.Fragment,{children:[Object(_.jsx)(C,{exact:!0,link:"/",children:"\u0417\u0410\u0425\u0418\u0410\u041b\u0410\u0425"}),Object(_.jsx)(C,{link:"/orders",children:"\u0417\u0410\u0425\u0418\u0410\u041b\u0413\u0410\u041d\u0423\u0423\u0414"}),Object(_.jsx)(C,{link:"/logout",children:"\u0413\u0410\u0420\u0410\u0425"})]}):Object(_.jsxs)(n.Fragment,{children:[Object(_.jsx)(C,{link:"/login",children:"\u041d\u042d\u0412\u0422\u0420\u042d\u0425"}),Object(_.jsx)(C,{link:"/signup",children:"\u0411\u04ae\u0420\u0422\u0413\u04ae\u04ae\u041b\u042d\u0425"})]})})})})),E=r(48),N=r.n(E),k=function(e){return Object(_.jsxs)("div",{onClick:e.toggleSideBar,className:N.a.HamburgerMenu,children:[Object(_.jsx)("div",{}),Object(_.jsx)("div",{}),Object(_.jsx)("div",{})]})},T=function(e){return Object(_.jsxs)("header",{className:O.a.Toolbar,children:[Object(_.jsx)(k,{toggleSideBar:e.toggleSideBar}),Object(_.jsx)(x,{}),Object(_.jsx)("nav",{className:O.a.HideOnMobile,children:Object(_.jsx)(w,{})})]})},L=(r(70),r(11)),D=r.n(L),B=function(e){return"bread-top"===e.type?Object(_.jsxs)("div",{className:D.a.BreadTop,children:[Object(_.jsx)("div",{className:D.a.Seed}),Object(_.jsx)("div",{className:"".concat(D.a.Seed," ").concat(D.a.Second)}),Object(_.jsx)("div",{className:"".concat(D.a.Seed," ").concat(D.a.Third)}),Object(_.jsx)("div",{className:"".concat(D.a.Seed," ").concat(D.a.Fourth)})]}):"salad"===e.type?Object(_.jsx)("div",{className:D.a.Salad}):"bacon"===e.type?Object(_.jsx)("div",{className:D.a.Bacon}):"meat"===e.type?Object(_.jsx)("div",{className:D.a.Meat}):"cheese"===e.type?Object(_.jsx)("div",{className:D.a.Cheese}):"bread-bottom"===e.type?Object(_.jsx)("div",{className:D.a.BreadBottom}):Object(_.jsx)("div",{children:"..."})},M=r(49),U=r.n(M),A=Object(j.b)((function(e){return{ingredients:e.burgerReducer.ingredients}}))(Object(l.g)((function(e){var t=Object.entries(e.ingredients),r=[];return t.map((function(e){for(var t=0;t<e[1];t++)r.push(Object(_.jsx)(B,{type:e[0]},"".concat(e[0]).concat(t+1)))})),0===r.length&&(r=Object(_.jsx)("p",{children:"\u0425\u0430\u0447\u0438\u0440\u0442\u0430\u0439 \u0442\u0430\u043b\u0445\u043d\u044b\u0445\u0430\u0430 \u043e\u0440\u0446\u044b\u0433 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443..."})),Object(_.jsxs)("div",{className:U.a.Burger,children:[Object(_.jsx)(B,{type:"bread-top"}),r,Object(_.jsx)(B,{type:"bread-bottom"})]})}))),P=r(2),G=r(33),F=r.n(G),V=r(23),K=r.n(V),H=function(e){return Object(_.jsxs)("div",{className:K.a.BuildControl,children:[Object(_.jsx)("div",{className:K.a.Label,children:e.ingredient}),Object(_.jsx)("button",{disabled:e.disabled[e.type],onClick:function(){return e.removeIngredient(e.type)},className:K.a.Less,children:"\u0425\u0430\u0441\u0430\u0445"}),Object(_.jsx)("button",{onClick:function(){return e.addIngredient(e.type)},className:K.a.More,children:"\u041d\u044d\u043c\u044d\u0445"})]})},J=Object(j.b)((function(e){return{burgerIngredient:e.burgerReducer.ingredients,price:e.burgerReducer.totalPrice,purchasing:e.burgerReducer.purchasing,ingredientNames:e.burgerReducer.ingredientNames}}),(function(e){return{addIngredient:function(t){return e(function(e){return{type:"ADD_INGREDIENT",ingredientName:e}}(t))},removeIngredient:function(t){return e(function(e){return{type:"REMOVE_INGREDIENT",ingredientName:e}}(t))}}}))((function(e){var t=Object(P.a)({},e.burgerIngredient);for(var r in t)t[r]=t[r]<=0;return Object(_.jsxs)("div",{className:F.a.BuildControls,children:[Object(_.jsxs)("p",{children:["\u0411\u0443\u0440\u0433\u0435\u0440\u0438\u0439\u043d \u04af\u043d\u044d: ",Object(_.jsx)("strong",{children:e.price})]}),Object.keys(e.ingredientNames).map((function(r){return Object(_.jsx)(H,{disabled:t,removeIngredient:e.removeIngredient,addIngredient:e.addIngredient,type:r,ingredient:e.ingredientNames[r]},r)})),Object(_.jsx)("button",{onClick:e.showOrderConfirmModal,disabled:!e.purchasing,className:F.a.OrderButton,children:"\u0417\u0410\u0425\u0418\u0410\u041b\u0410\u0425"})]})})),z=r(50),X=r.n(z),Q=function(e){return e.show?Object(_.jsx)("div",{onClick:e.onClicked,className:X.a.Shadow}):null},Y=r(51),Z=r.n(Y),q=function(e){return Object(_.jsxs)("div",{children:[Object(_.jsx)(Q,{show:e.show,onClicked:e.closeOrderConfirmModal}),Object(_.jsx)("div",{style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"},className:Z.a.Modal,children:e.children})]})},W=r(34),$=r.n(W),ee=function(e){return Object(_.jsx)("button",{onClick:e.clicked,className:"".concat($.a.Button," ").concat($.a[e.btnType]),children:e.text})},te=Object(j.b)((function(e){return{ingredients:e.burgerReducer.ingredients,ingredientNames:e.burgerReducer.ingredientNames,price:e.burgerReducer.totalPrice}}))((function(e){return Object(_.jsxs)("div",{children:[Object(_.jsx)("h3",{children:"\u0422\u0430\u043d\u044b \u0437\u0430\u0445\u0438\u0430\u043b\u0433\u0430"}),Object(_.jsx)("p",{children:"\u0422\u0430\u043d\u044b \u0441\u043e\u043d\u0433\u043e\u0441\u043e\u043d \u043e\u0440\u0446\u0443\u0443\u0434: "}),Object(_.jsx)("ul",{children:Object.keys(e.ingredients).map((function(t){return Object(_.jsxs)("li",{children:[e.ingredientNames[t],": ",e.ingredients[t]]},t)}))}),Object(_.jsx)("p",{children:Object(_.jsxs)("strong",{children:["\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u044b\u043d \u0434\u04af\u043d: ",e.price,"\u20ae"]})}),Object(_.jsx)("p",{children:"\u0426\u0430\u0430\u0448\u0430\u0430 \u04af\u0440\u0433\u044d\u043b\u0436\u043b\u04af\u04af\u043b\u044d\u0445 \u04af\u04af?"}),Object(_.jsx)(ee,{clicked:e.onContinue,btnType:"Success",text:"\u04ae\u0440\u0433\u044d\u043b\u0436\u043b\u04af\u04af\u043b\u044d\u0445"}),Object(_.jsx)(ee,{clicked:e.onCancel,btnType:"Danger",text:"\u0422\u0430\u0442\u0433\u0430\u043b\u0437\u0430\u0445"})]})})),re=r(52),ne=r.n(re),ce=function(){return Object(_.jsx)("div",{className:ne.a.Loader})},oe=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={confirmOrder:!1},e.showOrderConfirmModal=function(){e.setState({confirmOrder:!0})},e.closeOrderConfirmModal=function(){e.setState({confirmOrder:!1})},e.continueOrder=function(){e.props.history.push("/shipping")},e}return Object(i.a)(r,[{key:"render",value:function(){return Object(_.jsxs)("div",{children:[Object(_.jsx)(q,{closeOrderConfirmModal:this.closeOrderConfirmModal,show:this.state.confirmOrder,children:this.state.loading?Object(_.jsx)(ce,{}):Object(_.jsx)(te,{onCancel:this.closeOrderConfirmModal,onContinue:this.continueOrder})}),Object(_.jsx)(A,{}),Object(_.jsx)(J,{showOrderConfirmModal:this.showOrderConfirmModal,removeIngredient:this.props.removeSomeIngredient,addIngredient:this.props.addSomeIngredient})]})}}]),r}(n.Component),se=r(20),ae=r.n(se),ie=function(e){var t=[ae.a.SideBar,ae.a.Close];return e.showSidebar&&(t=[ae.a.SideBar,ae.a.Open]),Object(_.jsxs)("div",{children:[Object(_.jsx)(Q,{show:e.showSidebar,onClicked:e.toggleSideBar}),Object(_.jsx)("div",{onClick:e.toggleSideBar,className:t.join(" "),children:Object(_.jsxs)("div",{className:ae.a.Logo,children:[Object(_.jsx)(x,{}),Object(_.jsx)(w,{})]})})]})},ue=r(19),de=r.n(ue),le=de.a.create({baseURL:"https://burger-eea0b-default-rtdb.firebaseio.com/"}),je=function(){return{type:"LOAD_ORDERS_START"}},pe=function(e){return{type:"LOAD_ORDERS_SUCCESS",orders:e}},be=function(e){return{type:"LOAD_ORDERS_ERROR",error:e}},ge=function(){return{type:"SAVE_ORDERS_START"}},Oe=function(){return{type:"SAVE_ORDERS_SUCCESS"}},he=function(e){return{type:"SAVE_ORDERS_ERROR",error:e}},fe=r(53),Se=r.n(fe),_e=function(e){return Object(_.jsxs)("div",{className:Se.a.Order,children:[Object(_.jsxs)("p",{children:["\u041e\u0440\u0446 : \u0413\u0430\u0445\u0430\u0439\u043d \u043c\u0430\u0445 : ",e.order.ingredient.bacon,", \u0421\u0430\u043b\u0430\u0434 : ",e.order.ingredient.salad,", \u04ae\u0445\u0440\u0438\u0439\u043d \u043c\u0430\u0445 : ",e.order.ingredient.meat,", \u0411\u044f\u0441\u043b\u0430\u0433 : ",e.order.ingredient.cheese," ",Object(_.jsx)("br",{})," ",Object(_.jsx)("br",{}),"\u0425\u0430\u044f\u0433 : ",e.order.address.name," | ",e.order.address.street," | ",e.order.address.city]}),Object(_.jsxs)("p",{children:["\u04ae\u043d\u0438\u0439\u043d \u0434\u04af\u043d : ",Object(_.jsxs)("strong",{children:[e.order.price,"\u20ae"]})]})]})},xe=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){return Object(a.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"componentDidMount",value:function(){this.props.loadOrders(this.props.userId)}},{key:"render",value:function(){return Object(_.jsx)("div",{children:this.props.loading?Object(_.jsx)(ce,{}):this.props.orders.map((function(e){return Object(_.jsx)(_e,{order:e[1]},e[0])}))})}}]),r}(c.a.Component),me=Object(j.b)((function(e){return{orders:e.orderReducer.orders,loading:e.orderReducer.loading,userId:e.signupLoginReducer.userId}}),(function(e){return{loadOrders:function(t){return e((function(e,t){e(je());var r=t().signupLoginReducer.token,n=t().signupLoginReducer.userId;le.get("/orders.json?&auth=".concat(r,'&orderBy="userId"&equalTo="').concat(n,'"')).then((function(t){var r=Object.entries(t.data).reverse();e(pe(r))})).catch((function(t){return e(be(t))}))}))}}}))(xe),ve=function(){return{type:"LOGIN_USER_START"}},ye=function(e,t){return{type:"LOGIN_USER_SUCCESS",token:e,userId:t}},Re=function(e){return{type:"LOGIN_USER_ERROR",error:e}},Ie=function(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expireDate"),localStorage.removeItem("refreshToken"),{type:"LOGOUT"}},Ce=function(e){return function(t){setTimeout((function(){t(Ie())}),e)}},we=r(54),Ee=r.n(we),Ne=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:""},e.login=function(){e.props.login(e.state.email,e.state.password)},e.changeEmail=function(t){e.setState({email:t.target.value})},e.changePassword=function(t){e.setState({password:t.target.value})},e}return Object(i.a)(r,[{key:"render",value:function(){return console.log(this.props),console.log(this.props.userId),Object(_.jsxs)("div",{className:Ee.a.Login,children:[this.props.userId&&Object(_.jsx)(l.a,{to:"/orders"}),Object(_.jsx)("input",{onChange:this.changeEmail,type:"text",placeholder:"\u0418\u043c\u044d\u0439\u043b \u0445\u0430\u044f\u0433"}),Object(_.jsx)("input",{onChange:this.changePassword,type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433"}),this.props.logginIn&&Object(_.jsx)(ce,{}),this.props.authServerError&&Object(_.jsxs)("div",{style:{color:"red"},children:["\u0410\u043b\u0434\u0430\u0430\u043d\u044b \u043a\u043e\u0434: ",this.props.authServerErrorCode," ",Object(_.jsx)("br",{}),"\u0410\u043b\u0434\u0430\u0430\u043d\u044b \u043c\u0435\u0441\u0441\u0435\u0436: ",this.props.authServerError]}),Object(_.jsx)(ee,{text:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445",btnType:"Success",clicked:this.login})]})}}]),r}(n.Component),ke=Object(j.b)((function(e){return{logginIn:e.signupLoginReducer.logginIn,authServerError:e.signupLoginReducer.authServerError,authServerErrorCode:e.signupLoginReducer.authServerErrorCode,userId:e.signupLoginReducer.userId}}),(function(e){return{login:function(t,r){return e(function(e,t){return function(r){r(ve());var n={email:e,password:t,returnSecureToken:!0};de.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCyKm75F2aeHpju74K8TxRuVbSQa5CSsb4",n).then((function(e){var t=e.data.idToken,n=e.data.localId,c=e.data.expiresIn,o=new Date((new Date).getTime()+1e3*c),s=e.data.refreshToken;localStorage.setItem("token",t),localStorage.setItem("userId",n),localStorage.setItem("expireDate",o),localStorage.setItem("refreshToken",s),r(ye(t,n)),console.log("expire1"),console.log(c),r(Ce(1e3*c)),console.log("expire2"),console.log(1e3*c)})).catch((function(e){r(Re(e))}))}}(t,r))}}}))(Ne),Te=r(55),Le=r.n(Te),De=function(){return{type:"SIGNUP_USER_START"}},Be=function(e,t){return{type:"SIGNUP_USER_SUCCESS",token:e,userId:t}},Me=function(e){return{type:"SIGNUP_USER_ERROR",error:e}},Ue=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password1:"",password2:"",error:""},e.changeEmail=function(t){e.setState({email:t.target.value})},e.changePassword1=function(t){e.setState({password1:t.target.value})},e.changePassword2=function(t){e.setState({password2:t.target.value})},e.signup=function(){e.state.password1===e.state.password2?e.props.signupUser(e.state.email,e.state.password1):e.setState({error:"\u041d\u0443\u0443\u0446 \u04af\u0433\u043d\u04af\u04af\u0434 \u0445\u043e\u043e\u0440\u043e\u043d\u0434\u043e\u043e \u0442\u0430\u0430\u0440\u0430\u0445\u0433\u04af\u0439 \u0431\u0430\u0439\u043d\u0430"})},e}return Object(i.a)(r,[{key:"render",value:function(){return Object(_.jsxs)("div",{className:Le.a.Signup,children:[this.props.userId&&Object(_.jsx)(l.a,{to:"/"}),Object(_.jsx)("h1",{children:"\u0411\u04af\u0440\u0442\u0433\u044d\u043b\u0438\u0439\u043d \u0444\u043e\u0440\u043c "}),Object(_.jsx)("div",{children:"\u04e8\u04e9\u0440\u0438\u0439\u043d \u043c\u044d\u0434\u044d\u044d\u043b\u043b\u044d\u044d \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443!"}),Object(_.jsx)("input",{onChange:this.changeEmail,type:"text",name:"email",placeholder:"\u0418\u043c\u044d\u0439\u043b \u0445\u0430\u044f\u0433"}),Object(_.jsx)("input",{onChange:this.changePassword1,type:"password",name:"password1",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433\u044d\u044d \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443"}),Object(_.jsx)("input",{onChange:this.changePassword2,type:"password",name:"password2",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433\u044d\u044d \u0434\u0430\u0432\u0442\u0430\u043d \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443"}),this.state.error&&Object(_.jsx)("div",{style:{color:"red"},children:this.state.error}),this.props.authServerError&&Object(_.jsx)("div",{style:{color:"red"},children:this.props.authServerError}),this.props.saving&&Object(_.jsx)(ce,{}),Object(_.jsx)(ee,{text:"\u0411\u04ae\u0420\u0422\u0413\u04ae\u04ae\u041b\u042d\u0425",btnType:"Success",clicked:this.signup})]})}}]),r}(n.Component),Ae=Object(j.b)((function(e){return{saving:e.signupLoginReducer.saving,authServerError:e.signupLoginReducer.authServerError,userId:e.signupLoginReducer.userId}}),(function(e){return{signupUser:function(t,r){return e(function(e,t){return function(r){r(De());var n={email:e,password:t,returnSecureToken:!0};de.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCyKm75F2aeHpju74K8TxRuVbSQa5CSsb4",n).then((function(e){var t=e.data.idToken,n=e.data.localId;localStorage.setItem("token",t),localStorage.setItem("userId",n),r(Be(t,n))})).catch((function(e){r(Me(e))}))}}(t,r))}}}))(Ue),Pe=r(56),Ge=r.n(Pe),Fe=r(57),Ve=r.n(Fe),Ke=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={name:null,city:null,street:null},e.changeName=function(t){e.setState({name:t.target.value})},e.changeStreet=function(t){e.setState({street:t.target.value})},e.changeCity=function(t){e.setState({city:t.target.value})},e.saveOrder=function(){var t={userId:e.props.userId,ingredient:e.props.ingredients,price:e.props.price,address:{name:e.state.name,city:e.state.city,street:e.state.street}};e.props.saveOrderAction(t)},e}return Object(i.a)(r,[{key:"componentDidUpdate",value:function(){this.props.newOrderStatus.finished&&!this.props.newOrderStatus.error&&this.props.history.replace("/orders")}},{key:"render",value:function(){return Object(_.jsxs)("div",{className:Ve.a.ContactData,children:["\u04ae\u043d\u044d: ",this.props.price,Object(_.jsx)("div",{children:this.props.newOrderStatus.error&&"\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u044b\u0433 \u0445\u0430\u0434\u0433\u0430\u043b\u0430\u0445 \u044f\u0432\u0446\u0430\u0434 \u0430\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430 : ".concat(this.props.newOrderStatus.error)}),this.props.newOrderStatus.saving?Object(_.jsx)(ce,{}):Object(_.jsxs)("div",{children:[Object(_.jsx)("input",{onChange:this.changeName,type:"text",name:"name",placeholder:"\u0422\u0430\u043d\u044b \u043d\u044d\u0440"}),Object(_.jsx)("input",{onChange:this.changeStreet,type:"text",name:"street",placeholder:"\u0422\u0430\u043d\u044b \u0433\u044d\u0440\u0438\u0439\u043d \u0445\u0430\u044f\u0433"}),Object(_.jsx)("input",{onChange:this.changeCity,type:"text",name:"city",placeholder:"\u0422\u0430\u043d\u044b \u0445\u043e\u0442, \u0430\u0439\u043c\u0430\u0433"}),Object(_.jsx)(ee,{text:"\u0418\u041b\u0413\u042d\u042d\u0425",btnType:"Success",clicked:this.saveOrder})]})]})}}]),r}(c.a.Component),He=Object(j.b)((function(e){return{price:e.burgerReducer.totalPrice,ingredients:e.burgerReducer.ingredients,newOrderStatus:e.orderReducer.newOrder,userId:e.signupLoginReducer.userId}}),(function(e){return{saveOrderAction:function(t){return e(function(e){return function(t,r){t(ge());var n=r().signupLoginReducer.token;le.post("/orders.json?auth=".concat(n),e).then((function(e){t(Oe())})).catch((function(e){t(he(e))}))}}(t))}}}))(Object(l.g)(Ke)),Je=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).cancelOrder=function(){e.props.history.goBack()},e.showContactData=function(){e.props.history.replace("shipping/contact")},e}return Object(i.a)(r,[{key:"render",value:function(){return Object(_.jsxs)("div",{className:Ge.a.ShippingPage,children:[Object(_.jsx)("p",{style:{fontSize:"24px"},children:Object(_.jsxs)("strong",{children:["\u0414\u04af\u043d :  ",this.props.price,"\u20ae"]})}),Object(_.jsx)(A,{}),Object(_.jsx)(ee,{clicked:this.cancelOrder,btnType:"Danger",text:"\u0417\u0410\u0425\u0418\u0410\u041b\u0413\u042b\u0413 \u0426\u0423\u0426\u041b\u0410\u0425"}),Object(_.jsx)(ee,{clicked:this.showContactData,btnType:"Success",text:"\u0425\u04ae\u0420\u0413\u042d\u041b\u0422\u0418\u0419\u041d \u041c\u042d\u0414\u042d\u042d\u041b\u042d\u041b \u041e\u0420\u0423\u0423\u041b\u0410\u0425"}),Object(_.jsx)(l.b,{path:"/shipping/contact",children:Object(_.jsx)(He,{})})]})}}]),r}(c.a.Component),ze=Object(j.b)((function(e){return{price:e.burgerReducer.totalPrice}}))(Je),Xe=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).componentDidMount=function(){e.props.logout()},e}return Object(i.a)(r,[{key:"render",value:function(){return Object(_.jsx)(l.a,{to:"/"})}}]),r}(c.a.Component),Qe=Object(j.b)(null,(function(e){return{logout:function(){return e(Ie())}}}))(Xe),Ye=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(a.a)(this,r);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={showSidebar:!1},e.toggleSideBar=function(){e.setState((function(e){return{showSidebar:!e.showSidebar}}))},e.componentDidMount=function(){var t=localStorage.getItem("token"),r=localStorage.getItem("userId"),n=new Date(localStorage.getItem("expireDate"));localStorage.getItem("refreshToken");if(t)if(n>new Date){var c=n.getTime()-(new Date).getTime();e.props.autoLogin(t,r,c),e.props.autoLogoutAfterMilSeconds(c)}else e.props.logout()},e}return Object(i.a)(r,[{key:"render",value:function(){return Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)(T,{toggleSideBar:this.toggleSideBar}),Object(_.jsx)(ie,{showSidebar:this.state.showSidebar,toggleSideBar:this.toggleSideBar}),Object(_.jsx)("main",{className:b.a.Content,children:this.props.userId?Object(_.jsxs)(l.d,{children:[Object(_.jsx)(l.b,{path:"/logout",component:Qe}),Object(_.jsx)(l.b,{path:"/orders",component:me}),Object(_.jsx)(l.b,{path:"/shipping",component:ze}),Object(_.jsx)(l.b,{path:"/",component:oe})]}):Object(_.jsx)(l.d,{children:Object(_.jsxs)(l.d,{children:[Object(_.jsx)(l.b,{path:"/login",component:ke}),Object(_.jsx)(l.b,{path:"/signup",component:Ae}),Object(_.jsx)(l.a,{to:"/login"})]})})})]})}}]),r}(n.Component),Ze=Object(j.b)((function(e){return{userId:e.signupLoginReducer.userId}}),(function(e){return{autoLogin:function(t,r){return e(ye(t,r))},logout:function(){return e(Ie)},autoLogoutAfterMilSeconds:function(t){return e(Ce(t))}}}))(Ye),qe=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,90)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,s=t.getTTFB;r(e),n(e),c(e),o(e),s(e)}))},We=r(17),$e=r(58),et=r(22),tt={ingredients:{salad:0,cheese:0,bacon:0,meat:0},totalPrice:1e3,purchasing:!1,ingredientNames:{bacon:"\u0413\u0430\u0445\u0430\u0439\u043d \u043c\u0430\u0445",cheese:"\u0411\u044f\u0441\u043b\u0430\u0433",meat:"\u04ae\u0445\u0440\u0438\u0439\u043d \u043c\u0430\u0445",salad:"\u0421\u0430\u043b\u0430\u0434"}},rt={salad:150,cheese:250,bacon:800,meat:1500},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;if("ADD_INGREDIENT"===t.type)return Object(P.a)(Object(P.a)({},e),{},{ingredients:Object(P.a)(Object(P.a)({},e.ingredients),{},Object(et.a)({},t.ingredientName,e.ingredients[t.ingredientName]+1)),totalPrice:e.totalPrice+rt[t.ingredientName],purchasing:!0});if("REMOVE_INGREDIENT"===t.type){var r=e.totalPrice-rt[t.ingredientName];return Object(P.a)(Object(P.a)({},e),{},{ingredients:Object(P.a)(Object(P.a)({},e.ingredients),{},Object(et.a)({},t.ingredientName,e.ingredients[t.ingredientName]-1)),totalPrice:r,purchasing:r>1e3})}return e},ct={orders:[],loading:!1,error:null,newOrder:{saving:!1,finished:!1,error:null}},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ORDERS_START":return Object(P.a)(Object(P.a)({},e),{},{loading:!0});case"LOAD_ORDERS_SUCCESS":case"LOAD_ORDERS_SUCCESS":return Object(P.a)(Object(P.a)({},e),{},{loading:!1,orders:t.orders});case"SAVE_ORDERS_START":return Object(P.a)(Object(P.a)({},e),{},{newOrder:Object(P.a)(Object(P.a)({},e.newOrder),{},{saving:!0})});case"SAVE_ORDERS_SUCCESS":return Object(P.a)(Object(P.a)({},e),{},{newOrder:Object(P.a)(Object(P.a)({},e.newOrder),{},{saving:!1,finished:!0,error:null})});case"SAVE_ORDERS_ERROR":return Object(P.a)(Object(P.a)({},e),{},{newOrder:Object(P.a)(Object(P.a)({},e.newOrder),{},{saving:!1,finished:!0,error:t.error})});default:return e}},st={saving:!1,logginIn:!1,authServerError:null,authServerErrorCode:null,token:null,userId:null},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP_USER_START":return Object(P.a)(Object(P.a)({},e),{},{saving:!0});case"SIGNUP_USER_SUCCESS":return Object(P.a)(Object(P.a)({},e),{},{saving:!1,token:t.token,userId:t.userId});case"SIGNUP_USER_ERROR":return Object(P.a)(Object(P.a)({},e),{},{saving:!1,authServerError:t.error.response.data.error.message});case"LOGIN_USER_START":return Object(P.a)(Object(P.a)({},e),{},{logginIn:!0});case"LOGIN_USER_SUCCESS":return Object(P.a)(Object(P.a)({},e),{},{logginIn:!1,token:t.token,userId:t.userId});case"LOGIN_USER_ERROR":return Object(P.a)(Object(P.a)({},e),{},{logginIn:!1,authServerError:t.error,authServerErrorCode:t.error});case"LOGOUT":return Object(P.a)(Object(P.a)({},e),{},{token:null,userId:null,authServerError:null,authServerErrorCode:null});default:return e}},it=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||We.d,ut=Object(We.c)({burgerReducer:nt,orderReducer:ot,signupLoginReducer:at}),dt=[function(e){return function(t){return function(r){console.log("MyLoggerMiddleware: Dispatching ==> ",r),console.log("MyLoggerMiddleware: State before : ",e.getState());var n=t(r);return console.log("MyLoggerMiddleware: State after : ",e.getState()),n}}},$e.a],lt=Object(We.e)(ut,it(We.a.apply(void 0,dt)));s.a.render(Object(_.jsx)(j.a,{store:lt,children:Object(_.jsx)(I.a,{children:Object(_.jsx)(Ze,{})})}),document.getElementById("root")),qe()}],[[89,1,2]]]);
//# sourceMappingURL=main.dc3ff8de.chunk.js.map